# 2026-02-13 Daily Notes

## Session Summary

### Models Configured
- **Anthropic** (Haiku/Sonnet/Opus) — API key `sk-5e73...` set via `ANTHROPIC_API_KEY` env var in openclaw.json
- **OpenAI Codex 5.3** — OAuth (existing)
- **Perplexity** — web_search (existing)
- **antigravity/gemini-3-pro-high** — via Antigravity Tools local proxy ✅ WORKING

### Antigravity Tools Setup
- Antigravity Tools = desktop app (Tauri/Rust) that proxies Google web sessions as OpenAI-compatible API
- Runs on Mac at `127.0.0.1:8045`
- API key: `sk-5e7325e6fddb404c99f1d4aca506ec38`
- Exposed to VPS via SSH reverse tunnel: Mac:8045 → VPS:18045
- Tunnel plist updated to add `-R 18045:127.0.0.1:8045`
- OpenClaw provider: `antigravity` with `baseUrl: http://127.0.0.1:18045/v1`
- Model ID in OpenClaw: `antigravity/gemini-3-pro-high`
- **Updated to v4.1.16** (was 4.0.8) via dmg download+install — fixed intermittent 404 issue
- Data dir: `/Users/fedorovstas/.antigravity_tools/`

### Intermittent 404 Issue (RESOLVED)
- Error was: `404 Resource projects/bold-flow-fm8vb could not be found`
- Cause: multiple Google accounts in Antigravity Tools, one had expired session
- Fixed by: updating to v4.1.16 + user restarted the app

### Mac Node
- SSH tunnel: `ai.openclaw.tunnel` launchd service on Mac
- If node exec hangs with SIGKILL → tunnel is down → run: `launchctl kickstart -k gui/$UID/ai.openclaw.tunnel`
- If node not responding → run: `launchctl kickstart -k gui/$UID/ai.openclaw.node`
- Data dir: `/Users/fedorovstas/.antigravity_tools/`
- Apps: `/Applications/Antigravity Tools.app` and `/Applications/Antigravity.app`

### Config State (openclaw.json)
- `tools.exec.host = gateway` (VPS default)
- `agents.defaults.subagents.model = antigravity/gemini-3-pro-high`
- `agents.defaults.model.fallbacks` includes antigravity model
- `ANTHROPIC_API_KEY` in `env.vars`

### ClawHub
- URL: clawhub.ai — skill registry for OpenClaw
- CLI: `clawhub search/install/update`
- ⚠️ Security: ClawHavoc campaign found 341 malicious skills in Feb 2026 — always review SKILL.md before installing

### Config Safety Incident
- Bad keys added: `agents.defaults.memorySearch.minScore` and `maxResults` → gateway restart loop (~97 restarts)
- User fixed with `openclaw doctor --fix` on VPS
- Backup at: `/root/.openclaw/openclaw.json.bak` (user's fix) and `/root/.openclaw/backups/` (my script)
- **Rule:** ALWAYS run `/root/.openclaw/backup-config.sh` before any config edit
- **Rule:** ALWAYS run `openclaw doctor --non-interactive` after config edit
- **Rule:** Send rollback button via `message` tool after every config change

### Antigravity Models Available (all via antigravity/ prefix)
- gemini-3-pro-high (primary)
- gemini-3-flash ✅ tested working
- gemini-3-pro
- gemini-2.5-flash
- claude variants, gpt variants also available

### Desktop Analysis (COMPLETED)
- Gemini 3 Pro analyzed all 16 folders on Стас's Mac Desktop
- Full insights in: `/root/.openclaw/workspace/memory/desktop-insights.md`
- Key findings:
  - 4 Telegram bots (BotInstr/GPT-4.1, botclean2/botgpt311/YandexGPT, YaCAl_bot/calendar)
  - ⚠️ All bots have hardcoded API keys — security risk
  - serena — coding agent toolkit with MCP
  - гантт/гантт2 — Gantt charts JS for DataLens
  - департаменты — org hierarchy JS visualization
  - дашборды — Yandex DataLens workspace
  - support — Python PowerPoint automation
  - нирвана — local Yandex Nirvana docs archive
  - тестирование — UI test recordings/screenshots
  - Strong Yandex ecosystem focus

### Mac Processes
- cloudcode_cli (181% CPU) — Google Cloud Code / Antigravity language server, killed manually
- Tunnel monitor cron (48b9c7d0) active — alerts if tunnel/node drops
- Desktop analyzer monitor cron (31f3ed29) — REMOVED (task complete)

### Cron Jobs Active
- `48b9c7d0` — tunnel-health-monitor (every 3 min, alerts on failure)
- System cron: `*/2 * * * * /root/.openclaw/watchdog.sh --check`

### memorySearch Config (FIXED)
- `minScore` and `maxResults` NOT valid at `agents.defaults.memorySearch` level
- Only valid keys: `enabled`, `provider`, `sources`
- Local provider enabled: `{"enabled": true, "provider": "local", "sources": ["memory"]}`

### ClawHub Skills Installed
- `summarize` — summarize URLs, PDFs, images, audio, YouTube
- `proactive-agent` — WAL Protocol, Working Buffer, Autonomous Crons patterns
- `nano-pdf` — edit PDFs with natural language
- `nano-banana-pro` — image gen/edit via Gemini 3 Pro Image
- `answeroverflow` — search Discord community discussions (Answer Overflow)
- All installed to: `/root/.openclaw/workspace/skills/`
- ⚠️ ClawHavoc 2026 campaign: always review SKILL.md before installing new skills

### Infrastructure Scripts
- Backup: `/root/.openclaw/backup-config.sh` — timestamped backups to `/root/.openclaw/backups/` (keeps last 10)
- Watchdog: `/root/.openclaw/watchdog.sh --check` — auto-rollback on restart loop ≥10
- Watchdog runs via system cron: `*/2 * * * * /root/.openclaw/watchdog.sh --check`

### Loose Desktop Files (~200+ files at Desktop root)
- **Status**: Full catalog retrieved; analysis/categorization NOT yet delivered to user
- **Dominant types**: .xlsx (SQL/tracker/HR exports), .pptx (Turkey status, Alice support 2025, хурал), .docx, .py scripts, .pdf (receipts/docs), .png (screenshots 2024–2026)
- **Also**: .ini, .gif, .csv, .json, temp lock files (`~$` prefix), hidden files (.DS_Store, .localized)
- **Anomalies**: two non-file directory entries: `бэкап дерева для рук 14.01 15 50`, `пример`
- **TODO**: Present categorized analysis + cleanup suggestions to Стас

### Next Steps (Outstanding)
1. Present loose Desktop file analysis — categorize by type, suggest cleanup
2. Fix hardcoded API keys in bots: BotInstr, YaCAl_bot, botclean2, botgpt311
3. Tunnel stability: consider autossh or ServerAliveInterval tuning
4. Explore new skills: nano-banana-pro (image gen), summarize
5. Consider moving `serena` (coding agent toolkit) from Desktop to workspace

### Browser on VPS (DONE 2026-02-13)
- Docker v29.2.1 installed on VPS
- Google Chrome 145 installed: `/usr/bin/google-chrome-stable`
- OpenClaw config: `browser.enabled=true, executablePath=/usr/bin/google-chrome-stable, headless=true, noSandbox=true`
- sandbox.browser.enabled=true, autoStart=true in agents.defaults
- **Behavior**: while Mac node is online → uses Mac Chrome; when Mac offline → falls back to VPS Chrome automatically
- snap Chromium doesn't work with OpenClaw (AppArmor confinement) — must use real Chrome .deb
- gateway.nodes.browser.mode = "auto"

### GitHub Setup (DONE 2026-02-13)
- SSH key generated: `~/.ssh/id_ed25519` (ed25519, label: yabot-vps@openclaw)
- Public key added to GitHub account `fedorovstas1991-ship-it`
- `gh` CLI v2.86 installed, authenticated with PAT (full repo+workflow scopes)
- GitHub repos: `YA` (OpenClaw fork), `gantt-v3-premium`
- git config: user.name=YaBot VPS, user.email=yabot@vps, defaultBranch=main

### YA Project (OpenClaw fork)
- Cloned to: `/root/.openclaw/workspace/YA`
- **What it is**: Fork of OpenClaw by Стас — goal is "iPhone-like UI for non-technical manager colleagues"
- No-terminal onboarding with buttons, super simple UX
- Already has modified UI (details TBD from Gemini+Codex subagent analysis)
- **Active subagents** (launched 2026-02-13 ~22:40 UTC):
  - `ya-ui-gemini` (Gemini 3 Pro) — studying UI/onboarding changes
  - `ya-ui-codex` (Codex) — technical analysis of changed files
- Results pending — will report to Стас when both complete

### MCP Servers Discussion
- Стас asked about cool MCP servers
- Top picks shared: Context7 (live docs), github, filesystem, postgres, kubernetes, memory graph
- Стас has `serena` (MCP coding toolkit) on Desktop already

### YA Project — Subagent Results & Active Dev (2026-02-13 evening)
- `ya-ui-gemini` ✅ Web UI on Lit, 3 UI modes, wizard RPC, Eliza flow
- `ya-ui-codex` ✅ Full report: /root/.openclaw/workspace/TECHNICAL_REPORT_YA_FORK.md
- `opus-thinking-test` ✅ claude-opus-4-6-thinking works via Antigravity (fast)

**3 UI modes in YA fork:**
- Normal = legacy /chat
- Simple = ?simple=1 (minimal chat)
- Product = new / (3-column: rail + sidebar + main)

**Production-ready**: Simple Mode, Product layout, Eliza flow, Wizard RPC
**TODO**: backend RPC for channels (channels.telegram.save etc)

**iPhone-Style Product UI spec (from Стас, 22:51 UTC):**
- Projects = Agents (agents.create), Chats = Subagent sessions
- 4 buttons: New chat, Reset, Attachments, Stop
- New gateway RPC: chat.greet (AI writes first, no /new in history)
- Attachments: picker+drag&drop+paste, base64

**Active subagent**: ya-product-ui-build (Codex, ~22:51 UTC, timeout 600s)
- Implementing: chat.greet RPC + product UI + agents.create + sessions UI

### New Model
- antigravity/claude-opus-4-6-thinking added, reasoning:true, alias "Opus Thinking" — WORKING
